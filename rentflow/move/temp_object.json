{
  "objectId": "0x38336553817bc7eaefc30e9264aa1fb488978976ac45b688432e776068df44f6",
  "version": "1",
  "digest": "CTGboBjk8VPs379EeYzcGsf66XPxKCqzPK87TqYxNiAC",
  "type": "package",
  "owner": "Immutable",
  "previousTransaction": "8eUHVJ94BKBw1sFkriyk2jHFYJp7bhmuX72ZupbUg67",
  "storageRebate": "17632000",
  "content": {
    "dataType": "package",
    "disassembled": {
      "market": "// Move bytecode v6\nmodule 38336553817bc7eaefc30e9264aa1fb488978976ac45b688432e776068df44f6.market {\nuse 0000000000000000000000000000000000000000000000000000000000000001::option;\nuse 0000000000000000000000000000000000000000000000000000000000000002::balance;\nuse 0000000000000000000000000000000000000000000000000000000000000002::clock;\nuse 0000000000000000000000000000000000000000000000000000000000000002::coin;\nuse 0000000000000000000000000000000000000000000000000000000000000002::dynamic_object_field;\nuse 0000000000000000000000000000000000000000000000000000000000000002::object;\nuse 0000000000000000000000000000000000000000000000000000000000000002::sui;\nuse 0000000000000000000000000000000000000000000000000000000000000002::transfer;\nuse 0000000000000000000000000000000000000000000000000000000000000002::tx_context;\n\nstruct GameItem has store, key {\n\tid: UID,\n\tname: vector<u8>,\n\tdescription: vector<u8>,\n\turl: vector<u8>\n}\n\nstruct Marketplace has store, key {\n\tid: UID\n}\n\nstruct Listing<Ty0: store + key> has store, key {\n\tid: UID,\n\titem: Option<Ty0>,\n\towner: address,\n\tprice_per_day: u64,\n\trented_until: u64,\n\tbalance: Balance<SUI>\n}\n\nstruct RentPass has store, key {\n\tid: UID,\n\tlisting_id: ID,\n\tvalid_until: u64,\n\tstart_time: u64\n}\n\npublic rent_item<Ty0: store + key>(Arg0: &mut Marketplace, Arg1: ID, Arg2: Coin<SUI>, Arg3: u64, Arg4: &Clock, Arg5: &mut TxContext) {\nL6:\tloc0: u64\nL7:\tloc1: &mut Listing<Ty0>\nL8:\tloc2: Balance<SUI>\nL9:\tloc3: u64\nB0:\n\t0: CopyLoc[0](Arg0: &mut Marketplace)\n\t1: ImmBorrowField[0](Marketplace.id: UID)\n\t2: CopyLoc[1](Arg1: ID)\n\t3: Call dynamic_object_field::exists_<ID>(&UID, ID): bool\n\t4: BrFalse(6)\nB1:\n\t5: Branch(14)\nB2:\n\t6: MoveLoc[0](Arg0: &mut Marketplace)\n\t7: Pop\n\t8: MoveLoc[5](Arg5: &mut TxContext)\n\t9: Pop\n\t10: MoveLoc[4](Arg4: &Clock)\n\t11: Pop\n\t12: LdConst[5](u64: 5)\n\t13: Abort\nB3:\n\t14: MoveLoc[0](Arg0: &mut Marketplace)\n\t15: MutBorrowField[0](Marketplace.id: UID)\n\t16: CopyLoc[1](Arg1: ID)\n\t17: Call dynamic_object_field::borrow_mut<ID, Listing<Ty0>>(&mut UID, ID): &mut Listing<Ty0>\n\t18: StLoc[7](loc1: &mut Listing<Ty0>)\n\t19: MoveLoc[4](Arg4: &Clock)\n\t20: Call clock::timestamp_ms(&Clock): u64\n\t21: StLoc[6](loc0: u64)\n\t22: CopyLoc[6](loc0: u64)\n\t23: CopyLoc[7](loc1: &mut Listing<Ty0>)\n\t24: ImmBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t25: ReadRef\n\t26: Ge\n\t27: BrFalse(29)\nB4:\n\t28: Branch(35)\nB5:\n\t29: MoveLoc[7](loc1: &mut Listing<Ty0>)\n\t30: Pop\n\t31: MoveLoc[5](Arg5: &mut TxContext)\n\t32: Pop\n\t33: LdConst[1](u64: 1)\n\t34: Abort\nB6:\n\t35: CopyLoc[7](loc1: &mut Listing<Ty0>)\n\t36: ImmBorrowFieldGeneric[1](Listing.price_per_day: u64)\n\t37: ReadRef\n\t38: CopyLoc[3](Arg3: u64)\n\t39: Mul\n\t40: StLoc[9](loc3: u64)\n\t41: ImmBorrowLoc[2](Arg2: Coin<SUI>)\n\t42: Call coin::value<SUI>(&Coin<SUI>): u64\n\t43: MoveLoc[9](loc3: u64)\n\t44: Ge\n\t45: BrFalse(47)\nB7:\n\t46: Branch(53)\nB8:\n\t47: MoveLoc[7](loc1: &mut Listing<Ty0>)\n\t48: Pop\n\t49: MoveLoc[5](Arg5: &mut TxContext)\n\t50: Pop\n\t51: LdConst[0](u64: 0)\n\t52: Abort\nB9:\n\t53: MoveLoc[2](Arg2: Coin<SUI>)\n\t54: Call coin::into_balance<SUI>(Coin<SUI>): Balance<SUI>\n\t55: StLoc[8](loc2: Balance<SUI>)\n\t56: CopyLoc[7](loc1: &mut Listing<Ty0>)\n\t57: MutBorrowFieldGeneric[2](Listing.balance: Balance<SUI>)\n\t58: MoveLoc[8](loc2: Balance<SUI>)\n\t59: Call balance::join<SUI>(&mut Balance<SUI>, Balance<SUI>): u64\n\t60: Pop\n\t61: CopyLoc[6](loc0: u64)\n\t62: MoveLoc[3](Arg3: u64)\n\t63: LdU64(86400)\n\t64: Mul\n\t65: LdU64(1000)\n\t66: Mul\n\t67: Add\n\t68: CopyLoc[7](loc1: &mut Listing<Ty0>)\n\t69: MutBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t70: WriteRef\n\t71: CopyLoc[5](Arg5: &mut TxContext)\n\t72: Call object::new(&mut TxContext): UID\n\t73: MoveLoc[1](Arg1: ID)\n\t74: MoveLoc[7](loc1: &mut Listing<Ty0>)\n\t75: ImmBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t76: ReadRef\n\t77: MoveLoc[6](loc0: u64)\n\t78: Pack[3](RentPass)\n\t79: MoveLoc[5](Arg5: &mut TxContext)\n\t80: FreezeRef\n\t81: Call tx_context::sender(&TxContext): address\n\t82: Call transfer::public_transfer<RentPass>(RentPass, address)\n\t83: Ret\n}\n\npublic terminate_rental<Ty0: store + key>(Arg0: &mut Marketplace, Arg1: RentPass, Arg2: &Clock, Arg3: &mut TxContext) {\nL4:\tloc0: u64\nL5:\tloc1: u64\nL6:\tloc2: u64\nL7:\tloc3: u64\nL8:\tloc4: u64\nL9:\tloc5: &mut Listing<Ty0>\nL10:\tloc6: ID\nL11:\tloc7: u64\nL12:\tloc8: u64\nL13:\tloc9: u64\nL14:\tloc10: u64\nL15:\tloc11: u64\nL16:\tloc12: u64\nB0:\n\t0: MoveLoc[1](Arg1: RentPass)\n\t1: Unpack[3](RentPass)\n\t2: StLoc[14](loc10: u64)\n\t3: StLoc[16](loc12: u64)\n\t4: StLoc[10](loc6: ID)\n\t5: Call object::delete(UID)\n\t6: CopyLoc[0](Arg0: &mut Marketplace)\n\t7: ImmBorrowField[0](Marketplace.id: UID)\n\t8: CopyLoc[10](loc6: ID)\n\t9: Call dynamic_object_field::exists_<ID>(&UID, ID): bool\n\t10: BrFalse(12)\nB1:\n\t11: Branch(20)\nB2:\n\t12: MoveLoc[0](Arg0: &mut Marketplace)\n\t13: Pop\n\t14: MoveLoc[3](Arg3: &mut TxContext)\n\t15: Pop\n\t16: MoveLoc[2](Arg2: &Clock)\n\t17: Pop\n\t18: LdConst[5](u64: 5)\n\t19: Abort\nB3:\n\t20: MoveLoc[0](Arg0: &mut Marketplace)\n\t21: MutBorrowField[0](Marketplace.id: UID)\n\t22: MoveLoc[10](loc6: ID)\n\t23: Call dynamic_object_field::borrow_mut<ID, Listing<Ty0>>(&mut UID, ID): &mut Listing<Ty0>\n\t24: StLoc[9](loc5: &mut Listing<Ty0>)\n\t25: MoveLoc[2](Arg2: &Clock)\n\t26: Call clock::timestamp_ms(&Clock): u64\n\t27: StLoc[7](loc3: u64)\n\t28: CopyLoc[7](loc3: u64)\n\t29: CopyLoc[16](loc12: u64)\n\t30: Ge\n\t31: BrFalse(37)\nB4:\n\t32: MoveLoc[9](loc5: &mut Listing<Ty0>)\n\t33: Pop\n\t34: MoveLoc[3](Arg3: &mut TxContext)\n\t35: Pop\n\t36: Ret\nB5:\n\t37: MoveLoc[16](loc12: u64)\n\t38: CopyLoc[14](loc10: u64)\n\t39: Sub\n\t40: StLoc[15](loc11: u64)\n\t41: CopyLoc[7](loc3: u64)\n\t42: MoveLoc[14](loc10: u64)\n\t43: Sub\n\t44: StLoc[8](loc4: u64)\n\t45: CopyLoc[15](loc11: u64)\n\t46: LdU64(0)\n\t47: Eq\n\t48: BrFalse(56)\nB6:\n\t49: MoveLoc[3](Arg3: &mut TxContext)\n\t50: Pop\n\t51: MoveLoc[7](loc3: u64)\n\t52: MoveLoc[9](loc5: &mut Listing<Ty0>)\n\t53: MutBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t54: WriteRef\n\t55: Ret\nB7:\n\t56: MoveLoc[8](loc4: u64)\n\t57: LdU64(100)\n\t58: Mul\n\t59: MoveLoc[15](loc11: u64)\n\t60: Div\n\t61: StLoc[11](loc7: u64)\n\t62: CopyLoc[11](loc7: u64)\n\t63: LdU64(50)\n\t64: Lt\n\t65: BrFalse(69)\nB8:\n\t66: LdU64(50)\n\t67: StLoc[6](loc2: u64)\n\t68: Branch(89)\nB9:\n\t69: CopyLoc[11](loc7: u64)\n\t70: LdU64(75)\n\t71: Lt\n\t72: BrFalse(76)\nB10:\n\t73: LdU64(25)\n\t74: StLoc[5](loc1: u64)\n\t75: Branch(87)\nB11:\n\t76: MoveLoc[11](loc7: u64)\n\t77: LdU64(90)\n\t78: Lt\n\t79: BrFalse(83)\nB12:\n\t80: LdU64(10)\n\t81: StLoc[4](loc0: u64)\n\t82: Branch(85)\nB13:\n\t83: LdU64(0)\n\t84: StLoc[4](loc0: u64)\nB14:\n\t85: MoveLoc[4](loc0: u64)\n\t86: StLoc[5](loc1: u64)\nB15:\n\t87: MoveLoc[5](loc1: u64)\n\t88: StLoc[6](loc2: u64)\nB16:\n\t89: MoveLoc[6](loc2: u64)\n\t90: StLoc[13](loc9: u64)\n\t91: CopyLoc[13](loc9: u64)\n\t92: LdU64(0)\n\t93: Gt\n\t94: BrFalse(120)\nB17:\n\t95: CopyLoc[9](loc5: &mut Listing<Ty0>)\n\t96: ImmBorrowFieldGeneric[2](Listing.balance: Balance<SUI>)\n\t97: Call balance::value<SUI>(&Balance<SUI>): u64\n\t98: MoveLoc[13](loc9: u64)\n\t99: Mul\n\t100: LdU64(100)\n\t101: Div\n\t102: StLoc[12](loc8: u64)\n\t103: CopyLoc[12](loc8: u64)\n\t104: LdU64(0)\n\t105: Gt\n\t106: BrFalse(117)\nB18:\n\t107: CopyLoc[9](loc5: &mut Listing<Ty0>)\n\t108: MutBorrowFieldGeneric[2](Listing.balance: Balance<SUI>)\n\t109: MoveLoc[12](loc8: u64)\n\t110: CopyLoc[3](Arg3: &mut TxContext)\n\t111: Call coin::take<SUI>(&mut Balance<SUI>, u64, &mut TxContext): Coin<SUI>\n\t112: MoveLoc[3](Arg3: &mut TxContext)\n\t113: FreezeRef\n\t114: Call tx_context::sender(&TxContext): address\n\t115: Call transfer::public_transfer<Coin<SUI>>(Coin<SUI>, address)\n\t116: Branch(119)\nB19:\n\t117: MoveLoc[3](Arg3: &mut TxContext)\n\t118: Pop\nB20:\n\t119: Branch(122)\nB21:\n\t120: MoveLoc[3](Arg3: &mut TxContext)\n\t121: Pop\nB22:\n\t122: MoveLoc[7](loc3: u64)\n\t123: MoveLoc[9](loc5: &mut Listing<Ty0>)\n\t124: MutBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t125: WriteRef\n\t126: Ret\n}\n\npublic withdraw_item<Ty0: store + key>(Arg0: &mut Marketplace, Arg1: ID, Arg2: &Clock, Arg3: &mut TxContext) {\nL4:\tloc0: u64\nL5:\tloc1: Balance<SUI>\nL6:\tloc2: Option<Ty0>\nL7:\tloc3: &mut Listing<Ty0>\nB0:\n\t0: CopyLoc[0](Arg0: &mut Marketplace)\n\t1: ImmBorrowField[0](Marketplace.id: UID)\n\t2: CopyLoc[1](Arg1: ID)\n\t3: Call dynamic_object_field::exists_<ID>(&UID, ID): bool\n\t4: BrFalse(6)\nB1:\n\t5: Branch(14)\nB2:\n\t6: MoveLoc[0](Arg0: &mut Marketplace)\n\t7: Pop\n\t8: MoveLoc[3](Arg3: &mut TxContext)\n\t9: Pop\n\t10: MoveLoc[2](Arg2: &Clock)\n\t11: Pop\n\t12: LdConst[5](u64: 5)\n\t13: Abort\nB3:\n\t14: CopyLoc[0](Arg0: &mut Marketplace)\n\t15: MutBorrowField[0](Marketplace.id: UID)\n\t16: CopyLoc[1](Arg1: ID)\n\t17: Call dynamic_object_field::borrow_mut<ID, Listing<Ty0>>(&mut UID, ID): &mut Listing<Ty0>\n\t18: StLoc[7](loc3: &mut Listing<Ty0>)\n\t19: CopyLoc[3](Arg3: &mut TxContext)\n\t20: FreezeRef\n\t21: Call tx_context::sender(&TxContext): address\n\t22: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t23: ImmBorrowFieldGeneric[3](Listing.owner: address)\n\t24: ReadRef\n\t25: Eq\n\t26: BrFalse(28)\nB4:\n\t27: Branch(38)\nB5:\n\t28: MoveLoc[0](Arg0: &mut Marketplace)\n\t29: Pop\n\t30: MoveLoc[7](loc3: &mut Listing<Ty0>)\n\t31: Pop\n\t32: MoveLoc[3](Arg3: &mut TxContext)\n\t33: Pop\n\t34: MoveLoc[2](Arg2: &Clock)\n\t35: Pop\n\t36: LdConst[2](u64: 2)\n\t37: Abort\nB6:\n\t38: MoveLoc[2](Arg2: &Clock)\n\t39: Call clock::timestamp_ms(&Clock): u64\n\t40: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t41: ImmBorrowFieldGeneric[0](Listing.rented_until: u64)\n\t42: ReadRef\n\t43: Ge\n\t44: BrFalse(46)\nB7:\n\t45: Branch(54)\nB8:\n\t46: MoveLoc[0](Arg0: &mut Marketplace)\n\t47: Pop\n\t48: MoveLoc[7](loc3: &mut Listing<Ty0>)\n\t49: Pop\n\t50: MoveLoc[3](Arg3: &mut TxContext)\n\t51: Pop\n\t52: LdConst[3](u64: 3)\n\t53: Abort\nB9:\n\t54: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t55: ImmBorrowFieldGeneric[4](Listing.item: Option<Ty0>)\n\t56: Call option::is_some<Ty0>(&Option<Ty0>): bool\n\t57: BrFalse(59)\nB10:\n\t58: Branch(67)\nB11:\n\t59: MoveLoc[0](Arg0: &mut Marketplace)\n\t60: Pop\n\t61: MoveLoc[7](loc3: &mut Listing<Ty0>)\n\t62: Pop\n\t63: MoveLoc[3](Arg3: &mut TxContext)\n\t64: Pop\n\t65: LdConst[4](u64: 4)\n\t66: Abort\nB12:\n\t67: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t68: MutBorrowFieldGeneric[4](Listing.item: Option<Ty0>)\n\t69: Call option::extract<Ty0>(&mut Option<Ty0>): Ty0\n\t70: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t71: ImmBorrowFieldGeneric[3](Listing.owner: address)\n\t72: ReadRef\n\t73: Call transfer::public_transfer<Ty0>(Ty0, address)\n\t74: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t75: ImmBorrowFieldGeneric[2](Listing.balance: Balance<SUI>)\n\t76: Call balance::value<SUI>(&Balance<SUI>): u64\n\t77: StLoc[4](loc0: u64)\n\t78: CopyLoc[4](loc0: u64)\n\t79: LdU64(0)\n\t80: Gt\n\t81: BrFalse(92)\nB13:\n\t82: CopyLoc[7](loc3: &mut Listing<Ty0>)\n\t83: MutBorrowFieldGeneric[2](Listing.balance: Balance<SUI>)\n\t84: MoveLoc[4](loc0: u64)\n\t85: MoveLoc[3](Arg3: &mut TxContext)\n\t86: Call coin::take<SUI>(&mut Balance<SUI>, u64, &mut TxContext): Coin<SUI>\n\t87: MoveLoc[7](loc3: &mut Listing<Ty0>)\n\t88: ImmBorrowFieldGeneric[3](Listing.owner: address)\n\t89: ReadRef\n\t90: Call transfer::public_transfer<Coin<SUI>>(Coin<SUI>, address)\n\t91: Branch(96)\nB14:\n\t92: MoveLoc[7](loc3: &mut Listing<Ty0>)\n\t93: Pop\n\t94: MoveLoc[3](Arg3: &mut TxContext)\n\t95: Pop\nB15:\n\t96: MoveLoc[0](Arg0: &mut Marketplace)\n\t97: MutBorrowField[0](Marketplace.id: UID)\n\t98: MoveLoc[1](Arg1: ID)\n\t99: Call dynamic_object_field::remove<ID, Listing<Ty0>>(&mut UID, ID): Listing<Ty0>\n\t100: UnpackGeneric[0](Listing<Ty0>)\n\t101: StLoc[5](loc1: Balance<SUI>)\n\t102: Pop\n\t103: Pop\n\t104: Pop\n\t105: StLoc[6](loc2: Option<Ty0>)\n\t106: Call object::delete(UID)\n\t107: MoveLoc[5](loc1: Balance<SUI>)\n\t108: Call balance::destroy_zero<SUI>(Balance<SUI>)\n\t109: MoveLoc[6](loc2: Option<Ty0>)\n\t110: Call option::destroy_none<Ty0>(Option<Ty0>)\n\t111: Ret\n}\n\nConstants [\n\t0 => u64: 0\n\t1 => u64: 1\n\t2 => u64: 2\n\t3 => u64: 3\n\t4 => u64: 4\n\t5 => u64: 5\n]\n}\n"
    }
  }
}
